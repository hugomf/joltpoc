[
    {
        "operation": "modify-default-beta",
        "spec": {
            "eventControl": {
               "Timestamp": "=concat(@(1,recordCreatedOnDate),' ', @(1,recordCreatedOnTime))"
            },
            "shipmentTrackTrace" : {
                "shipmentTrackTraceEvent" : {
                    "*" : {
                        "\\_Timestamp": "=concat(@(1,eventTypeDt),' ', @(1,eventTypeTm))"
                    }
                }
            }
        }
    },
    {
        "operation": "shift",
        "spec": {
            "eventControl":  {
                "messageIdentifier" : ["XMLBundle.XMLTransmission.CtrNumber", "XMLBundle.XMLTransmission.XMLGroup.XMLTransaction.CtrlNumber"],
                "#FMXCLNT110" : "XMLBundle.XMLTransmission.SourceOwner",
                "Timestamp": "XMLBundle.XMLTransmission.Timestamp"
            },
            "shipmentTrackTrace" : {
                "shipmentNbr" : ["XMLBundle.XMLTransmission.XMLGroup.XMLTransaction.BPMessage.Document.Key", "XMLBundle.XMLTransmission.XMLGroup.XMLTransaction.BPMessage.Document.DocumentID"],
                "shippingTypeCd" : "XMLBundle.XMLTransmission.XMLGroup.XMLTransaction.BPMessage.Mode",
                "hawbContainerProNbr": {
                    "#CN" : "XMLBundle.XMLTransmission.XMLGroup.XMLTransaction.BPMessage.Reference[0].RefTypeCd",
                    "#128" : "XMLBundle.XMLTransmission.XMLGroup.XMLTransaction.BPMessage.Reference[0].SourceRefTypeCd",
                    "@" : ["XMLBundle.XMLTransmission.XMLGroup.XMLTransaction.BPMessage.Reference[0].text","XMLBundle.XMLTransmission.XMLGroup.XMLTransaction.BPMessage.Equipment.Key","XMLBundle.XMLTransmission.XMLGroup.XMLTransaction.BPMessage.Equipment.EquimentNumber"]
                },
                "billOfLadingNbr" : {
                    "#BM" : "XMLBundle.XMLTransmission.XMLGroup.XMLTransaction.BPMessage.Reference[1].RefTypeCd",
                    "#128" : "XMLBundle.XMLTransmission.XMLGroup.XMLTransaction.BPMessage.Reference[1].SourceRefTypeCd",
                    "@" : "XMLBundle.XMLTransmission.XMLGroup.XMLTransaction.BPMessage.Reference[1].text"
                },
                "sealNbr" : {
                    "#SN" : "XMLBundle.XMLTransmission.XMLGroup.XMLTransaction.BPMessage.Reference[2].RefTypeCd",
                    "#128" : "XMLBundle.XMLTransmission.XMLGroup.XMLTransaction.BPMessage.Reference[2].SourceRefTypeCd",
                    "@" : "XMLBundle.XMLTransmission.XMLGroup.XMLTransaction.BPMessage.Reference[2].text"
                },
                "carrierCd" : {
                    "*" : {
                        "@1" : "XMLBundle.XMLTransmission.XMLGroup.XMLTransaction.BPMessage.TradePartner.TradePartnerID",
                        "@2" : {
                            "shipmentAddress" : {
                                "*" : {
                                    "addressPartnerNm" : {
                                        "&4" : {
                                            "@2" : {
                                                "addressPartnerNm" : "XMLBundle.XMLTransmission.XMLGroup.XMLTransaction.BPMessage.TradePartner.TradePartnerName"
                                            }
                                        }
                                    }    
                                }
                            }
                        }
                    },
                    "#CA" : "XMLBundle.XMLTransmission.XMLGroup.XMLTransaction.BPMessage.TradePartner.RoleCd"
                },
                "shipmentTrackTraceEvent" : {
                    "0" : { //verify
                        "eventReasonCd" :"XMLBundle.XMLTransmission.XMLGroup.XMLTransaction.BPMessage.Status.StatusReasonCd",
                        "shipmentPortDetail" : {
                            "0" : {
                                "portStatusDetailCd" : "XMLBundle.XMLTransmission.XMLGroup.XMLTransaction.BPMessage.Location.LocTypeCd",
                                "portLocationTypeCd" : "XMLBundle.XMLTransmission.XMLGroup.XMLTransaction.BPMessage.Place.Qualifier",
                                "portLocationCd" : "XMLBundle.XMLTransmission.XMLGroup.XMLTransaction.BPMessage.Place.LocationID",
                                "portCountryCd" : "XMLBundle.XMLTransmission.XMLGroup.XMLTransaction.BPMessage.Place.CountryCd"    
                            }
                        },
                        "eventTypeCd" : "XMLBundle.XMLTransmission.XMLGroup.XMLTransaction.BPMessage.Status.Date.DateTypeCd", //verify logic
                        "eventTypeTimezoneCd" : "XMLBundle.XMLTransmission.XMLGroup.XMLTransaction.BPMessage.Status.Date.Timezone", //verify logic
                        "\\_Timestamp" : "XMLBundle.XMLTransmission.XMLGroup.XMLTransaction.BPMessage.Status.Date.text"
                    }
                },
                "shipmentText" : {
                    "0" : { //verify
                        "textId" : "XMLBundle.XMLTransmission.XMLGroup.XMLTransaction.BPMessage.Document.AltKey"
                    }                    
                }
            }
        }
    },
    {
        "operation": "default",
        "spec": {
            "XMLBundle": {
                "GeneratedBy": "NIKE",
                "XMLTransmission": {
                    "Sender" : "NIKE",
                    "Receiver": "NKTRADET",
                    "XMLGroup": {
                        "CtrlNumber": "01",
                        "GroupType ": "BP",
                        "IncludedMessages": "1",
                        "XMLTransaction" : {
                            "TransactionType": "BPM-BST",
                            "BPMessage" : {
                                "MessageType" : "BST",
                                "Document" : {
                                    "DocType"  : "SHIP"
                                }
                            }
                        }
                    }
                }
            }
        }
    }

]